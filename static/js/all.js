(()=>{let e=null;(()=>{class t{constructor(e){if(null==e)throw new Error("No element to mount");this.el=e}start(e){this.show(),setTimeout(this.hide.bind(this),e)}show(){this.el.classList.add("loaded_hiding"),this.el.classList.remove("loaded"),this.el.style.display="initial"}hide(){this.el.classList.add("loaded"),this.el.classList.remove("loaded_hiding"),this.el.animate([{opacity:1},{opacity:0}],{duration:1e3}),setTimeout(()=>this.el.style.display="none",1e3)}}class n{constructor(e){if(null==e)throw new Error("No element to mount");this.el=e,this.shown=!1,this.el.addEventListener("click",this.clickHandler.bind(this))}show(){this.el.style.display="block",this.el.style.opacity=0,this.el.animate([{opacity:0},{opacity:1}],{duration:100,fill:"both"}),setTimeout(()=>this.el.style.display="block",100),this.shown=!0}hide(){this.el.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>this.el.style.display="none",100),this.shown=!1}toggle(){this.shown?this.hide():this.show()}clickHandler(){this.hide()}}class l{constructor(e,t){if(null==e)throw new Error("No element to mount");if("object"!=typeof t)throw new Error("No menu element to control");this.el=e,this.menu=t,this.el.addEventListener("click",this.clickHandler.bind(this)),document.addEventListener("click",this.documentClickHandler.bind(this))}clickHandler(){this.menu.toggle()}documentClickHandler(e){e.target!==this.el&&e.target!==this.menu.el&&this.menu.hide()}}class o{constructor(e){if(null==e)throw new Error("No element to mount");this.el=e,this.el.setAttribute("rel","icon")}set(e){this.el.setAttribute("href",`static/img/IcoTab/icons/icoTab_${e}.png`)}}class i{constructor(){this.preloader=new t(document.getElementById("preloader-div")),this.menu=new n(document.getElementById("nav_menu")),this.menuButton=new l(document.getElementById("menu"),this.menu),this.iconController=new o(document.getElementById("link-icon")),this.preloader.hide(!1,1e3),this.iconController.set((new Date).getDate())}}document.addEventListener("DOMContentLoaded",()=>{e=new i})})(),document.addEventListener("DOMContentLoaded",()=>{const t=[31,28,31,30,31,30,31,31,30,31,30,31],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];let o=new Date,i=n[o.getMonth()];document.getElementById("month_name").innerHTML=i,document.getElementById("month_day").innerHTML=o.getDate();const s=document.getElementById("ico_cal_current_date_btn"),a=document.getElementById("text_current_date_content");a.innerHTML=o.getDate();let r=o.getMonth(),d=o.getFullYear();document.getElementById("nav_days_ul");const c=document.getElementById("month_name"),u=document.getElementById("month_day"),m=document.getElementById("year"),y=(document.getElementById("month_div"),document.getElementById("year_div"),document.getElementById("day_div"),document.getElementById("month_div_select")),p=document.getElementById("year_div_select"),g=document.getElementById("day_div_select"),h=document.getElementById("nav_menu");let b=null,_=!1;const f=document.getElementById("settings"),T=document.getElementById("go_to"),x=document.getElementById("ok"),E=document.getElementById("cancel"),w=document.getElementById("back"),I=document.getElementById("next"),B=document.getElementById("about"),v=document.getElementById("background"),k=document.getElementById("canvas_cal"),L=document.getElementById("div_back_next"),M=document.getElementById("background"),H=document.getElementById("go-to-div"),A=document.getElementById("get_current_date"),C=document.getElementById("dropdown_country");C.style.display="none";const N=document.getElementById("events_container"),S=document.getElementById("get_current_date");let X=!1;document.getElementById("ico_country_current").setAttribute("draggable",!1);let Y="numbers",D=window.pageYOffset|document.body.scrollTop,F=!1,O=window.innerWidth;function z(e,t){for(let n in t)e.setAttribute(n,t[n])}!0===(void 0!==window.orientation)&&(L.remove(),h.style.position="absolute"),dict_dropdown_list_countries={Russia:["/static/img/IcoCountryes/ru.png","ru"],Belarus:["/static/img/IcoCountryes/by.svg","by"],USA:["/static/img/IcoCountryes/usa.png","us"],Uzbekistan:["/static/img/IcoCountryes/uz.png","uz"]};let W=["dropdown_country","dropdown_list_ul","country_dropdown_list","dropdown_country_title_list","selected_country","ico_country_current"];function q(t){window.scrollTo(0,0),$.ajax({type:"POST",url:"/countries/",data:JSON.stringify(t,null,"\t"),contentType:"application/json;charset=UTF-8",success:function(n){N.innerHTML="";let l=document.createElement("div");l.setAttribute("id","table_event_container"),l.innerHTML=n.data,N.appendChild(l),e.preloader.hide(),ue.innerHTML="Simple calendar",l.innerHTML=n.data,m.innerHTML=t.year,j()},error:e=>{throw e}})}function j(){"numbers"===Y?c.innerHTML==i&&u.innerHTML==o.getDate()&&m.innerHTML==o.getFullYear()?S.style.display="none":(S.style.display="flex",a.innerHTML=o.getDate(),s.width="75",s.height="75",s.style.marginTop="-40px"):"events"===Y&&(m.innerHTML==o.getFullYear()?S.style.display="none":(S.id="get_current_date_event",S.style.display="flex",a.innerHTML=o.getFullYear(),s.width="150",s.height="95",s.style.marginTop="-50px")),!1===X||(A.style.filter="blur(1rem)")}document.addEventListener("click",(function(l){let o=l.target.getAttribute("class"),i=l.target.getAttribute("id"),s=!1,a=document.querySelector("#month_div_select"),r=n.indexOf(a.value),d=31-t[r];if(0===d)for(let e=1;e<=31;e++)String(e).length<2&&(e="0"+e),document.getElementById("selector_"+e).style.display="block";else{for(let e=1;e<=31;e++)String(e).length<2&&(e="0"+e),document.getElementById("selector_"+e).style.display="block";for(let e=1;e<=d;e++)try{document.getElementById("selector_"+(32-e)).style.display="none",_=!0}catch(l){return}}if("nav_menu_li"!==o)if(W.includes(i)){if(W.includes(i)&&!1===s){if(null!=document.getElementById("dropdown_list_countries")==!0)if(!1===s&&"selected_country"!=i==1){let t=l.target;if("dropdown_list_ul"===t.getAttribute("id")||"dropdown_country"===t.getAttribute("id"))return;{let n=t.querySelector("#dropdown_country_title_list"),l=t.querySelector("#ico_country"),o=document.getElementById("ico_country_current"),i=document.getElementById("dropdown_country_title"),a=(i.innerHTML,o.getAttribute("src"));!function(e,t){let n=e.id,l=t.id;e.id=l,t.id=n;let o=t.parentNode,i=t.nextSibling;i===e?o.insertBefore(e,t):(e.parentNode.insertBefore(t,e),i?o.insertBefore(e,i):o.appendChild(e))}(n,i),o.setAttribute("src",String(l.getAttribute("src"))),l.setAttribute("src",String(a));let r=document.getElementById("dropdown_list_countries"),d=document.getElementById("dropdown_list_ul");r.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>r.style.cssText="opacity:0;display:none;",100),d.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>d.style.cssText="opacity:0;display:none;",100),s=!0,document.getElementById("dropdown_country").style.cssText="display:block;opacity:1;background-color:transparent;";let c={year:document.getElementById("year").innerHTML,country:document.getElementById("dropdown_country_title").className};e.preloader.show(),q(c)}}else{let e=document.getElementById("dropdown_list_countries"),t=document.getElementById("dropdown_list_ul");t.style.cssText="display:block;opacity:0;",e.style.cssText="display:block;opacity:0;",e.animate([{opacity:0},{opacity:1}],{duration:100,fill:"both"}),setTimeout(()=>e.cssText="opacity:1;"),t.animate([{opacity:0},{opacity:1}],{duration:100,fill:"both"}),setTimeout(()=>t.cssText="opacity:1;"),document.getElementById("dropdown_country").style.cssText="background-color:white;min-height:50px;height:auto;-webkit-box-shadow: 0px 0px 23px -5px rgba(0,0,0,0.75);-moz-box-shadow: 0px 0px 23px -5px rgba(0,0,0,0.75);box-shadow: 0px 0px 23px -5px rgba(0,0,0,0.75);"}else if(null===document.getElementById("dropdown_list_countries")){let e=document.createElement("div");e.setAttribute("id","dropdown_list_countries");let t=document.createElement("ul");t.setAttribute("id","dropdown_list_ul"),e.appendChild(t);for(let[e,n]of Object.entries(dict_dropdown_list_countries)){let l=document.createElement("li");l.setAttribute("class","nav_ul"),t.appendChild(l);let o=document.createElement("div");o.setAttribute("id","country_dropdown_list"),l.appendChild(o);let i=document.createElement("img");z(i,{id:"ico_country",src:n[0],width:"80",height:"80"});let s=document.createElement("p");z(s,{id:"dropdown_country_title_list",class:n[1]}),s.innerHTML=e,o.appendChild(i),o.appendChild(s)}document.getElementById("dropdown_country").appendChild(e),e.style.cssText="display:block;opacity:0;",e.animate([{opacity:0},{opacity:1}],{duration:100,fill:"both"}),setTimeout(()=>{e.cssText="opacity:1;"},100),document.getElementById("dropdown_country").style.cssText="background-color:white;min-height:50px;height:auto;z-index:10;-webkit-box-shadow: 0px 0px 23px -5px rgba(0,0,0,0.75);-moz-box-shadow: 0px 0px 23px -5px rgba(0,0,0,0.75);box-shadow: 0px 0px 23px -5px rgba(0,0,0,0.75);",document.getElementById("ico_country").setAttribute("draggable",!1)}return void(s=!0)}}else try{let e=document.getElementById("dropdown_list_countries"),t=document.getElementById("dropdown_list_ul");e.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>e.style.cssText="opacity:0;display:none;",100),t.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>t.style.cssText="opacity:0;display:none;",100),s=!0,document.getElementById("dropdown_country").style.cssText="display:block;opacity:1;background-color:transparent;"}catch(l){return}}));!function(e,t){let n="";for(let l=e;l<=t;l++)n+="<option value='"+l+"'>"+l+"</option>"}(1970,2050);function J(e,t,i,s,a,r){let d=new Date(t,e).getDay();if("preview"===s||(c.innerHTML=n[e],m.innerHTML=t),r){if("next"===i){u("right_calendar_body");let e=document.getElementById("right_calendar_body"),t=(document.getElementById("left_calendar_body"),document.getElementById("calendar_body"));t.style.cssText="-webkit-animation: animation_next 1000ms linear both;animation: animation_next 1000ms linear both;",setTimeout(()=>t.style.cssText="margin-left:-280px;margin-top: 180px;position: absolute;",100),t.innerHTML=e.innerHTML}else if("back"===i){u("left_calendar_body");document.getElementById("right_calendar_body");let e=document.getElementById("left_calendar_body"),t=document.getElementById("calendar_body");t.style.cssText="-webkit-animation: animation_back 1000ms linear both;animation: animation_back 1000ms linear both;",setTimeout(()=>t.style.cssText="margin-left:-280px;margin-top: 180px;position: absolute;",100),t.innerHTML=e.innerHTML}}else if(!1===r){if("next"===i)if("preview"===s)u("right_calendar_body");else{u("right_calendar_body");let e=document.getElementById("right_calendar_body"),t=document.getElementById("left_calendar_body"),n=document.getElementById("calendar_body");e.animate([{transform:"translateX("+a+"px)"},{transform:"translateX(-2000px)"}],{duration:300}),n.animate([{transform:"translateX("+a+"px)"},{transform:"translateX(-2000px)"}],{duration:300}),setTimeout(()=>{n.style.cssText="margin-left:-280px;margin-top:180px;position:absolute;transform:translateX(0px);",n.innerHTML=e.innerHTML,e.innerHTML="",t.innerHTML=""},300)}else if("back"===i)if("preview"===s)u("left_calendar_body");else{u("left_calendar_body");let e=document.getElementById("right_calendar_body"),t=document.getElementById("left_calendar_body"),n=document.getElementById("calendar_body");t.animate([{transform:"translateX("+a+"px)"},{transform:"translateX(2000px)"}],{duration:300}),n.animate([{transform:"translateX("+a+"px)"},{transform:"translateX(2000px)"}],{duration:300}),setTimeout(()=>{n.style.cssText="margin-left:-280px;margin-top: 180px;position: absolute;transform:translateX(0px);",n.innerHTML=t.innerHTML,e.innerHTML="",t.innerHTML=""},300)}}else u("calendar_body");function u(i){let s=document.getElementById(i);s.innerHTML="";let a=1,r=document.createElement("tr");r.style.paddingTop="100px";for(let e in l){let t=document.createElement("td");t.innerHTML=l[e],t.id=l[e],t.className="day",r.appendChild(t)}s.appendChild(r);for(let l=0;l<6;l++){let i=document.createElement("tr");i.style.cssText="font-size: 30px;font-family: 'Lato', sans-serif;";for(let s=0;s<7;s++)if(0===l&&s<d){let e=document.createElement("td"),t=document.createTextNode("");e.appendChild(t),i.appendChild(e)}else{if(a>32-new Date(t,e,32).getDate())break;{let l,s=document.createElement("td");s.setAttribute("data-date",a),s.setAttribute("data-month",e+1),s.setAttribute("data-year",t),s.setAttribute("data-month_name",n[e]),s.setAttribute("id",a),s.className="date-picker",l=document.createElement("div"),l.innerHTML=a,l.setAttribute("id","span_"+a),l.setAttribute("class","cell_div"),s.appendChild(l),a===o.getDate()&&t===o.getFullYear()&&e===o.getMonth()&&(b=a,l.className="cell_div_selected selected"),i.appendChild(s),a++}}s.appendChild(i)}}}J(r,d,"None");let U,V,P,R,G=0,K=0,Q=null;const Z=document.getElementById("left_calendar_body"),ee=document.getElementById("calendar_body"),te=document.getElementById("right_calendar_body"),ne=document.getElementById("events_container");Z.style.cssText="display:block;margin-left:-2200px;",te.style.cssText="display:block;margin-left:1650px;";let le;Math.abs(Number(ne.style.marginLeft.replace(/\D/g,"")));function oe(e){Q=e.touches[0].clientX,swipeInitialY=e.touches[0].clientY,"touchstart"===e.type?(P=e.touches[0].clientX-G,R=e.touches[0].clientY-K):(P=e.clientX-G,R=e.clientY-K);let t=n.indexOf(document.getElementById("month_name").innerHTML),l=Number(document.getElementById("year").innerHTML);d=0===t?l-1:l,r=0===t?11:t-1,J(r,d,"back","preview",null,!1),J(r,d,"next","preview",null,!1)}function ie(e){if(e.cancelable&&e.preventDefault(),"touchmove"===e.type?(U=e.touches[0].clientX-P,V=e.touches[0].clientY-R):(U=e.clientX-P,V=e.clientY-R),G=U,K=V,null===Q)return;if(null===swipeInitialY)return;var t=e.touches[0].clientX,n=e.touches[0].clientY,l=Q-t,o=swipeInitialY-n;let i=new class{detectHorisontallySwipe(){Math.abs(l)>Math.abs(o)&&(F=!0,le="horizontally","numbers"===Y?se(U,[Z,ee,te]):"events"===Y&&se(U,[ne]))}detectVerticallySwipe(){if(Math.abs(l)<Math.abs(o))if(F=!0,le="vertically",ne.style.transform="translateX(0px)",o>0){if(window.innerHeight+window.scrollY>=document.documentElement.scrollHeight)return;D+=30,window.scrollTo(0,D)}else D-=30,window.scrollTo(0,D)}};!1===F?(i.detectVerticallySwipe(),i.detectHorisontallySwipe()):"vertically"===le?i.detectVerticallySwipe():"horizontally"===le&&i.detectHorisontallySwipe()}function se(e,t){t.forEach(t=>t.style.transform="translateX("+e+"px)")}function ae(e){e.forEach(e=>{e.animate([{transform:"translateX("+U+"px)"},{transform:"translateX(0px)"}],{duration:100}),setTimeout(()=>{e.style.transform="translateX(0px)"},100)})}function re(e){if(F=!1,ne.style.pointerEvents="","vertically"===le);else if("horizontally"===le){if("translateX('0px')"===ee.style.transform)return;{function t(){"events"===Y&&(ae(e),ne.style.pointerEvents="all")}let n=function(){let e=[480,414,412,375,361,325,320];for(sheep of e){if(O==sheep)return O-130;if(sheep===e[e.length-1])return 400}}();U<-Math.abs(window.innerWidth-n)?(ce(!1,U),t()):U>window.innerWidth-n?(de(!1,U),t()):(U>-Math.abs(window.innerWidth-n)||U<window.innerWidth-n)&&ae(e),G=0,U=0}}}function de(t,l){if("events"===Y){let t=document.getElementById("year").innerHTML,n=document.getElementById("dropdown_country_title").className;t--,document.getElementById("year").innerHTML=t;let l={year:t,country:n};e.preloader.show(),q(l)}else{if("numbers"!==Y)throw"Can't get mode.";{let e=n.indexOf(document.getElementById("month_name").innerHTML),l=Number(document.getElementById("year").innerHTML);d=0===e?l-1:l,r=0===e?11:e-1,J(r,d,"back","numbers",U,t),j()}}}function ce(t,l){if("events"===Y){let t=document.getElementById("year").innerHTML,n=document.getElementById("dropdown_country_title").className;if(t>=o.getFullYear());else if(t<=o.getFullYear()){t++,document.getElementById("year").innerHTML=t;let l={year:t,country:n};e.preloader.show(),q(l)}}else{if("numbers"!==Y)throw"Can't get mode.";{let e=n.indexOf(document.getElementById("month_name").innerHTML),l=Number(document.getElementById("year").innerHTML);d=11===e?l+1:l,r=(e+1)%12,J(r,d,"next","numbers",U,t),j()}}}ee.addEventListener("touchstart",oe,!1),ee.addEventListener("touchmove",ie,!1),ee.addEventListener("touchend",e=>{re([Z,ee,te])},!1),ne.addEventListener("touchstart",oe,!1),ne.addEventListener("touchmove",ie,!1),ne.addEventListener("touchend",e=>{re([ne])},!1),[v,E,x].forEach(e=>e.addEventListener("click",()=>{B.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>B.style.cssText="opacity:0;display:none;",100),k.style.cssText="animation:0.1s linear sharp_background;",setTimeout(()=>k.style.cssText="filter:blur(0rem);"),L.style.cssText="animation:0.1s linear sharp_background;",setTimeout(()=>L.style.cssText="filter:blur(0rem);"),A.style.cssText="animation:0.1s linear sharp_background;",setTimeout(()=>A.style.cssText="filter:blur(0rem);"),N.style.cssText="margin-left:3%;display:block;animation:0.1s linear sharp_background;",setTimeout(()=>N.style.cssText="margin-left:3%;display:block;filter:blur(0rem);"),M.style.display="none",H.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>H.style.cssText="opacity:0;display:none",100),X=!1})),f.addEventListener("click",()=>{M.style.display="block",k.style.cssText="display:block;animation:0.1s linear blur_background;",setTimeout(()=>k.style.cssText="filter:blur(1rem);",100),L.style.cssText="animation:0.1s linear blur_background;",setTimeout(()=>L.style.cssText="filter:blur(1rem);",100),N.style.cssText="display:block;animation:0.1s linear blur_background;",setTimeout(()=>N.style.cssText="display:block;filter:blur(1rem);",100),A.style.cssText="animation:0.1s linear blur_background;",setTimeout(()=>A.style.filter="blur(1rem)",100),B.style.display="block",B.animate([{opacity:0},{opacity:1}],{duration:100,fill:"both"}),setTimeout(()=>B.style.cssText="opacity:1;display:block;",100),X=!0}),T.addEventListener("click",()=>{M.style.display="block",k.style.cssText="display:block;animation:0.1s linear blur_background;",setTimeout(()=>k.style.cssText="filter:blur(1rem);",100),L.style.cssText="animation:0.1s linear blur_background;",setTimeout(()=>L.style.cssText="filter:blur(1rem);",100),N.style.cssText="display:block;animation:0.1s linear blur_background;",setTimeout(()=>N.style.cssText="display:block;filter:blur(1rem);",100),A.style.cssText="animation:0.1s linear blur_background;",setTimeout(()=>A.style.filter="blur(1rem)",100),H.style.cssText="display:block;opacity:1;",H.animate([{opacity:0},{opacity:1}],{duration:100,fill:"both"}),setTimeout(()=>H.style.cssText="opacity:1;display:block;",100),X=!0}),A.addEventListener("click",()=>{if("numbers"===Y)J(o.getMonth(),o.getFullYear()),S.style.display="none";else if("events"===Y){let t={year:o.getFullYear(),country:document.getElementById("dropdown_country_title").className};e.preloader.show(),q(t)}j()}),x.addEventListener("click",()=>{if(X=!1,"numbers"===Y)N.innerHTML="",N.style.display="none",J(n.indexOf(document.getElementById("month_div_select").value),document.getElementById("year_div_select").value,"None");else if("events"===Y){let t={year:document.getElementById("year_div_select").value,country:document.getElementById("dropdown_country_title").className};e.preloader.show(),q(t)}j()}),w.addEventListener("click",()=>{de(!0)}),I.addEventListener("click",()=>{ce(!0)});for(let e in n){let t=document.createElement("option");t.innerHTML=n[e],t.setAttribute("class","option-choose-month"),t.setAttribute("id","selector_"+n[e]),y.appendChild(t)}for(let e=1;e<32;e++){String(e).length<2&&(e="0"+e);let t=document.createElement("option");t.innerHTML=e,t.setAttribute("class","option-choose-monthday"),t.setAttribute("id","selector_"+e),g.appendChild(t)}for(let e=1970;e<=2050;e++){let t=document.createElement("option");t.innerHTML=e,t.setAttribute("class","option-choose-year"),t.setAttribute("id","selector_"+e),p.appendChild(t)}let ue=document.querySelector("#events_list"),me=document.querySelector("#events_container"),ye=document.getElementById("calendar_body");document.getElementById("nav_days_ul");ue.addEventListener("click",()=>{if("events"===Y)Y="numbers",ye.style.cssText="margin-left:-280px;margin-top: 180px;position:absolute;display:block;",events_container.style.cssText="margin-left:200%;display:none;",me.innerHTML,C.style.cssText="display:block;",C.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>{C.style.cssText="display:none;opacity:0;",ue.innerHTML="Event list"},1e3),S.id="get_current_date";else{Y="events",e.preloader.show(),ye.style.cssText="margin-left:-200%;margin-top: 180px;position:absolute;display:none;",events_container.style.cssText="display:block;";let t={year:document.getElementById("year").innerHTML,country:document.getElementById("dropdown_country_title").className};C.style.cssText="display:block;",C.animate([{opacity:0},{opacity:1}],{duration:1e3,fill:"both"}),setTimeout(()=>{C.style.cssText="display:block;opacity:1;"}),q(t)}j()})})})();
//# sourceMappingURL=all.js.map
