(()=>{let e=null;(()=>{class t{constructor(e){if(null==e)throw new Error("No element to mount");this.el=e}start(e){this.show(),setTimeout(this.hide.bind(this),e)}show(){this.el.classList.add("loaded_hiding"),this.el.classList.remove("loaded"),this.el.style.display="initial"}hide(){this.el.classList.add("loaded"),this.el.classList.remove("loaded_hiding"),this.el.animate([{opacity:1},{opacity:0}],{duration:1e3}),setTimeout(()=>this.el.style.display="none",1e3)}}class n{constructor(e){if(null==e)throw new Error("No element to mount");this.el=e,this.shown=!1,this.el.addEventListener("click",this.clickHandler.bind(this))}show(){this.el.style.display="block",this.el.style.opacity=0,this.el.animate([{opacity:0},{opacity:1}],{duration:100,fill:"both"}),setTimeout(()=>this.el.style.display="block",100),this.shown=!0}hide(){this.el.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>this.el.style.display="none",100),this.shown=!1}toggle(){this.shown?this.hide():this.show()}clickHandler(){this.hide()}}class o{constructor(e,t){if(null==e)throw new Error("No element to mount");if("object"!=typeof t)throw new Error("No menu element to control");this.el=e,this.menu=t,this.el.addEventListener("click",this.clickHandler.bind(this)),document.addEventListener("click",this.documentClickHandler.bind(this))}clickHandler(){this.menu.toggle()}documentClickHandler(e){e.target!==this.el&&e.target!==this.menu.el&&this.menu.hide()}}class l{constructor(e){if(null==e)throw new Error("No element to mount");this.el=e,this.el.setAttribute("rel","icon")}set(e){this.el.setAttribute("href",`static/img/IcoTab/icons/icoTab_${e}.png`)}}class i{constructor(){this.preloader=new t(document.getElementById("preloader-div")),this.menu=new n(document.getElementById("nav_menu")),this.menuButton=new o(document.getElementById("menu"),this.menu),this.iconController=new l(document.getElementById("link-icon")),this.preloader.hide(!1,1e3),this.iconController.set((new Date).getDate())}}document.addEventListener("DOMContentLoaded",()=>{e=new i})})(),document.addEventListener("DOMContentLoaded",()=>{const t=[31,28,31,30,31,30,31,31,30,31,30,31],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];let l=new Date,i=n[l.getMonth()];document.getElementById("month_name").innerHTML=i,document.getElementById("month_day").innerHTML=l.getDate();const s=document.getElementById("ico_cal_current_date_btn"),r=document.getElementById("text_current_date_content");r.innerHTML=l.getDate();let a=l.getMonth(),d=l.getFullYear();document.getElementById("nav_days_ul");const c=document.getElementById("month_name"),u=document.getElementById("month_day"),m=document.getElementById("year"),y=(document.getElementById("month_div"),document.getElementById("year_div"),document.getElementById("day_div"),document.getElementById("month_div_select")),p=document.getElementById("year_div_select"),g=document.getElementById("day_div_select"),h=document.getElementById("nav_menu");let b=null,_=!1;const f=document.getElementById("settings"),T=document.getElementById("go_to"),E=document.getElementById("ok"),x=document.getElementById("cancel"),w=document.getElementById("back"),I=document.getElementById("next"),B=document.getElementById("about"),v=document.getElementById("background"),k=document.getElementById("canvas_cal"),L=document.getElementById("div_back_next"),M=document.getElementById("background"),H=document.getElementById("go-to-div"),A=document.getElementById("get_current_date"),C=document.getElementById("dropdown_country");C.style.display="none";const N=document.getElementById("events_container"),S=document.getElementById("get_current_date");let X=!1;document.getElementById("ico_country_current").setAttribute("draggable",!1);let Y="numbers",D=window.pageYOffset|document.body.scrollTop,O=!1,F=window.innerWidth;function z(e,t){for(let n in t)e.setAttribute(n,t[n])}!0===(void 0!==window.orientation)&&(L.remove(),h.style.position="absolute"),dict_dropdown_list_countries={Russia:["/static/img/IcoCountryes/ru.png","ru"],Belarus:["/static/img/IcoCountryes/by.svg","by"],USA:["/static/img/IcoCountryes/usa.png","us"],Uzbekistan:["/static/img/IcoCountryes/uz.png","uz"]};let q=["dropdown_country","dropdown_list_ul","country_dropdown_list","dropdown_country_title_list","selected_country","ico_country_current"];function W(t){window.scrollTo(0,0);let n=new XMLHttpRequest;n.open("POST","/countries/"),n.setRequestHeader("Content-Type","application/json;charset=UTF-8"),n.send(JSON.stringify(t,null,"\t")),n.onload=()=>{let o=JSON.parse(n.response);N.innerHTML="";let l=document.createElement("div");l.setAttribute("id","table_event_container"),l.innerHTML=o.data,N.appendChild(l),e.preloader.hide(),ce.innerHTML="Simple calendar",l.innerHTML=o.data,m.innerHTML=t.year,J()},n.onerror=()=>{throw add_content_container.innerHTML=n.response,n.response}}function J(){"numbers"===Y?c.innerHTML==i&&u.innerHTML==l.getDate()&&m.innerHTML==l.getFullYear()?S.style.display="none":(S.style.display="flex",r.innerHTML=l.getDate(),s.width="75",s.height="75",s.style.marginTop="-40px"):"events"===Y&&(m.innerHTML==l.getFullYear()?S.style.display="none":(S.id="get_current_date_event",S.style.display="flex",r.innerHTML=l.getFullYear(),s.width="150",s.height="95",s.style.marginTop="-50px")),!1===X||(A.style.filter="blur(1rem)")}document.addEventListener("click",(function(o){let l=o.target.getAttribute("class"),i=o.target.getAttribute("id"),s=!1,r=document.querySelector("#month_div_select"),a=n.indexOf(r.value),d=31-t[a];if(0===d)for(let e=1;e<=31;e++)String(e).length<2&&(e="0"+e),document.getElementById("selector_"+e).style.display="block";else{for(let e=1;e<=31;e++)String(e).length<2&&(e="0"+e),document.getElementById("selector_"+e).style.display="block";for(let e=1;e<=d;e++)try{document.getElementById("selector_"+(32-e)).style.display="none",_=!0}catch(o){return}}if("nav_menu_li"!==l)if(q.includes(i)){if(q.includes(i)&&!1===s){if(null!=document.getElementById("dropdown_list_countries")==!0)if(!1===s&&"selected_country"!=i==1){let t=o.target;if("dropdown_list_ul"===t.getAttribute("id")||"dropdown_country"===t.getAttribute("id"))return;{let n=t.querySelector("#dropdown_country_title_list"),o=t.querySelector("#ico_country"),l=document.getElementById("ico_country_current"),i=document.getElementById("dropdown_country_title"),r=(i.innerHTML,l.getAttribute("src"));!function(e,t){let n=e.id,o=t.id;e.id=o,t.id=n;let l=t.parentNode,i=t.nextSibling;i===e?l.insertBefore(e,t):(e.parentNode.insertBefore(t,e),i?l.insertBefore(e,i):l.appendChild(e))}(n,i),l.setAttribute("src",String(o.getAttribute("src"))),o.setAttribute("src",String(r));let a=document.getElementById("dropdown_list_countries"),d=document.getElementById("dropdown_list_ul");a.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>a.style.cssText="opacity:0;display:none;",100),d.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>d.style.cssText="opacity:0;display:none;",100),s=!0,document.getElementById("dropdown_country").style.cssText="display:block;opacity:1;background-color:transparent;";let c={year:document.getElementById("year").innerHTML,country:document.getElementById("dropdown_country_title").className};e.preloader.show(),W(c)}}else{let e=document.getElementById("dropdown_list_countries"),t=document.getElementById("dropdown_list_ul");t.style.cssText="display:block;opacity:0;",e.style.cssText="display:block;opacity:0;",e.animate([{opacity:0},{opacity:1}],{duration:100,fill:"both"}),setTimeout(()=>e.cssText="opacity:1;"),t.animate([{opacity:0},{opacity:1}],{duration:100,fill:"both"}),setTimeout(()=>t.cssText="opacity:1;"),document.getElementById("dropdown_country").style.cssText="background-color:white;min-height:50px;height:auto;-webkit-box-shadow: 0px 0px 23px -5px rgba(0,0,0,0.75);-moz-box-shadow: 0px 0px 23px -5px rgba(0,0,0,0.75);box-shadow: 0px 0px 23px -5px rgba(0,0,0,0.75);"}else if(null===document.getElementById("dropdown_list_countries")){let e=document.createElement("div");e.setAttribute("id","dropdown_list_countries");let t=document.createElement("ul");t.setAttribute("id","dropdown_list_ul"),e.appendChild(t);for(let[e,n]of Object.entries(dict_dropdown_list_countries)){let o=document.createElement("li");o.setAttribute("class","nav_ul"),t.appendChild(o);let l=document.createElement("div");l.setAttribute("id","country_dropdown_list"),o.appendChild(l);let i=document.createElement("img");z(i,{id:"ico_country",src:n[0],width:"80",height:"80"});let s=document.createElement("p");z(s,{id:"dropdown_country_title_list",class:n[1]}),s.innerHTML=e,l.appendChild(i),l.appendChild(s)}document.getElementById("dropdown_country").appendChild(e),e.style.cssText="display:block;opacity:0;",e.animate([{opacity:0},{opacity:1}],{duration:100,fill:"both"}),setTimeout(()=>{e.cssText="opacity:1;"},100),document.getElementById("dropdown_country").style.cssText="background-color:white;min-height:50px;height:auto;z-index:10;-webkit-box-shadow: 0px 0px 23px -5px rgba(0,0,0,0.75);-moz-box-shadow: 0px 0px 23px -5px rgba(0,0,0,0.75);box-shadow: 0px 0px 23px -5px rgba(0,0,0,0.75);",document.getElementById("ico_country").setAttribute("draggable",!1)}return void(s=!0)}}else try{let e=document.getElementById("dropdown_list_countries"),t=document.getElementById("dropdown_list_ul");e.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>e.style.cssText="opacity:0;display:none;",100),t.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>t.style.cssText="opacity:0;display:none;",100),s=!0,document.getElementById("dropdown_country").style.cssText="display:block;opacity:1;background-color:transparent;"}catch(o){return}}));!function(e,t){let n="";for(let o=e;o<=t;o++)n+="<option value='"+o+"'>"+o+"</option>"}(1970,2050);function j(e,t,i,s,r,a){let d=new Date(t,e).getDay();if("preview"===s||(c.innerHTML=n[e],m.innerHTML=t),a){if("next"===i){u("right_calendar_body");let e=document.getElementById("right_calendar_body"),t=(document.getElementById("left_calendar_body"),document.getElementById("calendar_body"));t.style.cssText="-webkit-animation: animation_next 1000ms linear both;animation: animation_next 1000ms linear both;",setTimeout(()=>t.style.cssText="margin-left:-280px;margin-top: 180px;position: absolute;",100),t.innerHTML=e.innerHTML}else if("back"===i){u("left_calendar_body");document.getElementById("right_calendar_body");let e=document.getElementById("left_calendar_body"),t=document.getElementById("calendar_body");t.style.cssText="-webkit-animation: animation_back 1000ms linear both;animation: animation_back 1000ms linear both;",setTimeout(()=>t.style.cssText="margin-left:-280px;margin-top: 180px;position: absolute;",100),t.innerHTML=e.innerHTML}}else if(!1===a){if("next"===i)if("preview"===s)u("right_calendar_body");else{u("right_calendar_body");let e=document.getElementById("right_calendar_body"),t=document.getElementById("left_calendar_body"),n=document.getElementById("calendar_body");e.animate([{transform:"translateX("+r+"px)"},{transform:"translateX(-2000px)"}],{duration:300}),n.animate([{transform:"translateX("+r+"px)"},{transform:"translateX(-2000px)"}],{duration:300}),setTimeout(()=>{n.style.cssText="margin-left:-280px;margin-top:180px;position:absolute;transform:translateX(0px);",n.innerHTML=e.innerHTML,e.innerHTML="",t.innerHTML=""},300)}else if("back"===i)if("preview"===s)u("left_calendar_body");else{u("left_calendar_body");let e=document.getElementById("right_calendar_body"),t=document.getElementById("left_calendar_body"),n=document.getElementById("calendar_body");t.animate([{transform:"translateX("+r+"px)"},{transform:"translateX(2000px)"}],{duration:300}),n.animate([{transform:"translateX("+r+"px)"},{transform:"translateX(2000px)"}],{duration:300}),setTimeout(()=>{n.style.cssText="margin-left:-280px;margin-top: 180px;position: absolute;transform:translateX(0px);",n.innerHTML=t.innerHTML,e.innerHTML="",t.innerHTML=""},300)}}else u("calendar_body");function u(i){let s=document.getElementById(i);s.innerHTML="";let r=1,a=document.createElement("tr");a.style.paddingTop="100px";for(let e in o){let t=document.createElement("td");t.innerHTML=o[e],t.id=o[e],t.className="day",a.appendChild(t)}s.appendChild(a);for(let o=0;o<6;o++){let i=document.createElement("tr");i.style.cssText="font-size: 30px;font-family: 'Lato', sans-serif;";for(let s=0;s<7;s++)if(0===o&&s<d){let e=document.createElement("td"),t=document.createTextNode("");e.appendChild(t),i.appendChild(e)}else{if(r>32-new Date(t,e,32).getDate())break;{let o,s=document.createElement("td");s.setAttribute("data-date",r),s.setAttribute("data-month",e+1),s.setAttribute("data-year",t),s.setAttribute("data-month_name",n[e]),s.setAttribute("id",r),s.className="date-picker",o=document.createElement("div"),o.innerHTML=r,o.setAttribute("id","span_"+r),o.setAttribute("class","cell_div"),s.appendChild(o),r===l.getDate()&&t===l.getFullYear()&&e===l.getMonth()&&(b=r,o.className="cell_div_selected selected"),i.appendChild(s),r++}}s.appendChild(i)}}}j(a,d,"None");let R,U,V,P,$=0,G=0,K=null;const Q=document.getElementById("left_calendar_body"),Z=document.getElementById("calendar_body"),ee=document.getElementById("right_calendar_body"),te=document.getElementById("events_container");Q.style.cssText="display:block;margin-left:-2200px;",ee.style.cssText="display:block;margin-left:1650px;";let ne;Math.abs(Number(te.style.marginLeft.replace(/\D/g,"")));function oe(e){K=e.touches[0].clientX,swipeInitialY=e.touches[0].clientY,"touchstart"===e.type?(V=e.touches[0].clientX-$,P=e.touches[0].clientY-G):(V=e.clientX-$,P=e.clientY-G);let t=n.indexOf(document.getElementById("month_name").innerHTML),o=Number(document.getElementById("year").innerHTML);d=0===t?o-1:o,a=0===t?11:t-1,j(a,d,"back","preview",null,!1),j(a,d,"next","preview",null,!1)}function le(e){if(e.cancelable&&e.preventDefault(),"touchmove"===e.type?(R=e.touches[0].clientX-V,U=e.touches[0].clientY-P):(R=e.clientX-V,U=e.clientY-P),$=R,G=U,null===K)return;if(null===swipeInitialY)return;var t=e.touches[0].clientX,n=e.touches[0].clientY,o=K-t,l=swipeInitialY-n;let i=new class{detectHorisontallySwipe(){Math.abs(o)>Math.abs(l)&&(O=!0,ne="horizontally","numbers"===Y?ie(R,[Q,Z,ee]):"events"===Y&&ie(R,[te]))}detectVerticallySwipe(){if(Math.abs(o)<Math.abs(l))if(O=!0,ne="vertically",te.style.transform="translateX(0px)",l>0){if(window.innerHeight+window.scrollY>=document.documentElement.scrollHeight)return;D+=30,window.scrollTo(0,D)}else D-=30,window.scrollTo(0,D)}};!1===O?(i.detectVerticallySwipe(),i.detectHorisontallySwipe()):"vertically"===ne?i.detectVerticallySwipe():"horizontally"===ne&&i.detectHorisontallySwipe()}function ie(e,t){t.forEach(t=>t.style.transform="translateX("+e+"px)")}function se(e){e.forEach(e=>{e.animate([{transform:"translateX("+R+"px)"},{transform:"translateX(0px)"}],{duration:100}),setTimeout(()=>{e.style.transform="translateX(0px)"},100)})}function re(e){if(O=!1,te.style.pointerEvents="","vertically"===ne);else if("horizontally"===ne){if("translateX('0px')"===Z.style.transform)return;{function t(){"events"===Y&&(se(e),te.style.pointerEvents="all")}let n=function(){let e=[480,414,412,375,361,325,320];for(sheep of e){if(F==sheep)return F-130;if(sheep===e[e.length-1])return 400}}();R<-Math.abs(window.innerWidth-n)?(de(!1,R),t()):R>window.innerWidth-n?(ae(!1,R),t()):(R>-Math.abs(window.innerWidth-n)||R<window.innerWidth-n)&&se(e),$=0,R=0}}}function ae(t,o){if("events"===Y){let t=document.getElementById("year").innerHTML,n=document.getElementById("dropdown_country_title").className;t--,document.getElementById("year").innerHTML=t;let o={year:t,country:n};e.preloader.show(),W(o)}else{if("numbers"!==Y)throw"Can't get mode.";{let e=n.indexOf(document.getElementById("month_name").innerHTML),o=Number(document.getElementById("year").innerHTML);d=0===e?o-1:o,a=0===e?11:e-1,j(a,d,"back","numbers",R,t),J()}}}function de(t,o){if("events"===Y){let t=document.getElementById("year").innerHTML,n=document.getElementById("dropdown_country_title").className;if(t>=l.getFullYear());else if(t<=l.getFullYear()){t++,document.getElementById("year").innerHTML=t;let o={year:t,country:n};e.preloader.show(),W(o)}}else{if("numbers"!==Y)throw"Can't get mode.";{let e=n.indexOf(document.getElementById("month_name").innerHTML),o=Number(document.getElementById("year").innerHTML);d=11===e?o+1:o,a=(e+1)%12,j(a,d,"next","numbers",R,t),J()}}}Z.addEventListener("touchstart",oe,!1),Z.addEventListener("touchmove",le,!1),Z.addEventListener("touchend",e=>{re([Q,Z,ee])},!1),te.addEventListener("touchstart",oe,!1),te.addEventListener("touchmove",le,!1),te.addEventListener("touchend",e=>{re([te])},!1),[v,x,E].forEach(e=>e.addEventListener("click",()=>{B.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>B.style.cssText="opacity:0;display:none;",100),k.style.cssText="animation:0.1s linear sharp_background;",setTimeout(()=>k.style.cssText="filter:blur(0rem);"),L.style.cssText="animation:0.1s linear sharp_background;",setTimeout(()=>L.style.cssText="filter:blur(0rem);"),A.style.cssText="animation:0.1s linear sharp_background;",setTimeout(()=>A.style.cssText="filter:blur(0rem);"),N.style.cssText="margin-left:3%;display:block;animation:0.1s linear sharp_background;",setTimeout(()=>N.style.cssText="margin-left:3%;display:block;filter:blur(0rem);"),M.style.display="none",H.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>H.style.cssText="opacity:0;display:none",100),X=!1})),f.addEventListener("click",()=>{M.style.display="block",k.style.cssText="display:block;animation:0.1s linear blur_background;",setTimeout(()=>k.style.cssText="filter:blur(1rem);",100),L.style.cssText="animation:0.1s linear blur_background;",setTimeout(()=>L.style.cssText="filter:blur(1rem);",100),N.style.cssText="display:block;animation:0.1s linear blur_background;",setTimeout(()=>N.style.cssText="display:block;filter:blur(1rem);",100),A.style.cssText="animation:0.1s linear blur_background;",setTimeout(()=>A.style.filter="blur(1rem)",100),B.style.display="block",B.animate([{opacity:0},{opacity:1}],{duration:100,fill:"both"}),setTimeout(()=>B.style.cssText="opacity:1;display:block;",100),X=!0}),T.addEventListener("click",()=>{M.style.display="block",k.style.cssText="display:block;animation:0.1s linear blur_background;",setTimeout(()=>k.style.cssText="filter:blur(1rem);",100),L.style.cssText="animation:0.1s linear blur_background;",setTimeout(()=>L.style.cssText="filter:blur(1rem);",100),N.style.cssText="display:block;animation:0.1s linear blur_background;",setTimeout(()=>N.style.cssText="display:block;filter:blur(1rem);",100),A.style.cssText="animation:0.1s linear blur_background;",setTimeout(()=>A.style.filter="blur(1rem)",100),H.style.cssText="display:block;opacity:1;",H.animate([{opacity:0},{opacity:1}],{duration:100,fill:"both"}),setTimeout(()=>H.style.cssText="opacity:1;display:block;",100),X=!0}),A.addEventListener("click",()=>{if("numbers"===Y)j(l.getMonth(),l.getFullYear()),S.style.display="none";else if("events"===Y){let t={year:l.getFullYear(),country:document.getElementById("dropdown_country_title").className};e.preloader.show(),W(t)}J()}),E.addEventListener("click",()=>{if(X=!1,"numbers"===Y)N.innerHTML="",N.style.display="none",j(n.indexOf(document.getElementById("month_div_select").value),document.getElementById("year_div_select").value,"None");else if("events"===Y){let t={year:document.getElementById("year_div_select").value,country:document.getElementById("dropdown_country_title").className};e.preloader.show(),W(t)}J()}),w.addEventListener("click",()=>{ae(!0)}),I.addEventListener("click",()=>{de(!0)});for(let e in n){let t=document.createElement("option");t.innerHTML=n[e],t.setAttribute("class","option-choose-month"),t.setAttribute("id","selector_"+n[e]),y.appendChild(t)}for(let e=1;e<32;e++){String(e).length<2&&(e="0"+e);let t=document.createElement("option");t.innerHTML=e,t.setAttribute("class","option-choose-monthday"),t.setAttribute("id","selector_"+e),g.appendChild(t)}for(let e=1970;e<=2050;e++){let t=document.createElement("option");t.innerHTML=e,t.setAttribute("class","option-choose-year"),t.setAttribute("id","selector_"+e),p.appendChild(t)}let ce=document.querySelector("#events_list"),ue=document.querySelector("#events_container"),me=document.getElementById("calendar_body");document.getElementById("nav_days_ul");ce.addEventListener("click",()=>{if("events"===Y)Y="numbers",me.style.cssText="margin-left:-280px;margin-top: 180px;position:absolute;display:block;",events_container.style.cssText="margin-left:200%;display:none;",ue.innerHTML,C.style.cssText="display:block;",C.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>{C.style.cssText="display:none;opacity:0;",ce.innerHTML="Event list"},1e3),S.id="get_current_date";else{Y="events",e.preloader.show(),me.style.cssText="margin-left:-200%;margin-top: 180px;position:absolute;display:none;",events_container.style.cssText="display:block;";let t={year:document.getElementById("year").innerHTML,country:document.getElementById("dropdown_country_title").className};C.style.cssText="display:block;",C.animate([{opacity:0},{opacity:1}],{duration:1e3,fill:"both"}),setTimeout(()=>{C.style.cssText="display:block;opacity:1;"}),W(t)}J()})})})();
//# sourceMappingURL=all.js.map
