document.addEventListener("DOMContentLoaded",()=>{function a(a,b,d){function e(d){let e=document.getElementById(d);e.innerHTML="";let k=1;for(let j,m=0;6>m;m++){j=document.createElement("tr"),j.style.cssText="font-size: 30px;font-family: 'Lato', sans-serif;";for(var l=0;7>l;l++)if(0===m&&l<g){let a=document.createElement("td"),b=document.createTextNode("");a.appendChild(b),j.appendChild(a)}else if(k>c(a,b))break;else{let c,d=document.createElement("td");d.setAttribute("data-date",k),d.setAttribute("data-month",a+1),d.setAttribute("data-year",b),d.setAttribute("data-month_name",f[a]),d.setAttribute("id",k),d.className="date-picker",c=document.createElement("div"),c.innerHTML=k,c.setAttribute("id","span_"+k),c.setAttribute("class","cell_div"),d.appendChild(c),d.style.cssText="padding:50px;padding-left:165px;text-align:center;",k===h.getDate()&&b===h.getFullYear()&&a===h.getMonth()&&(w=k,d.className="date-picker selected",c.className="cell_div_selected",c.style.cssText="z-index:1;color:white;text-align:center;margin-top:30px;padding-right:5px;",d.style.cssText="background-color:#E73A3C;width:100px;height:100px;position:absolute;border-radius:10px;margin-left:130px;z-index:2;margin-top:10px;"),j.appendChild(d),k++}e.appendChild(j)}}let g=new Date(b,a).getDay();if(n.innerHTML=f[a],p.innerHTML=b,"next"===d){e("right_calendar_body");let a=document.getElementById("right_calendar_body"),b=document.getElementById("left_calendar_body"),c=document.getElementById("calendar_body");a.style.cssText="animation:1s linear right_to_center;",setTimeout(()=>a.style.cssText="margin-left:200%;margin-top: 180px;position: absolute;",100),c.style.cssText="animation:1s linear center_container_to_left;",setTimeout(()=>c.style.cssText="margin-left:-280px;margin-top: 180px;position: absolute;",100),c.innerHTML=a.innerHTML}else if("back"===d){e("left_calendar_body");let a=document.getElementById("right_calendar_body"),b=document.getElementById("left_calendar_body"),c=document.getElementById("calendar_body");b.style.cssText="animation:1s linear left_to_center;",setTimeout(()=>b.style.cssText="margin-left: -200%;margin-top: 180px;position: absolute;",100),c.style.cssText="animation:1s linear center_container_to_right;",setTimeout(()=>c.style.cssText="margin-left:-280px;margin-top: 180px;position: absolute;",100),c.innerHTML=b.innerHTML}else e("calendar_body")}function b(a){if(null===P)return;if(null===Q)return;const b=a.touches[0].clientX,c=a.touches[0].clientY,d=P-b,e=Q-c;Math.abs(d)>Math.abs(e)&&(0<d?next():back()),P=null,Q=null,a.preventDefault()}function c(a,b){return 32-new Date(b,a,32).getDate()}let d=[31,28,31,30,31,30,31,31,30,31,30,31],f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],h=new Date,j=f[h.getMonth()];document.getElementById("month_name").innerHTML=j,document.getElementById("month_day").innerHTML=h.getDate(),document.getElementById("text_current_date_content").innerHTML=h.getDate();let k=h.getMonth(),l=h.getFullYear(),m=document.getElementById("nav_days_ul"),n=document.getElementById("month_name"),o=document.getElementById("month_day"),p=document.getElementById("year"),q=document.getElementById("month_div"),r=document.getElementById("year_div"),s=document.getElementById("day_div"),t=document.getElementById("preloader-div");window.onload=function(){t.classList.add("loaded_hiding"),window.setTimeout(function(){t.classList.add("loaded"),t.classList.remove("loaded_hiding"),t.animate([{opacity:1},{opacity:0}],{duration:1e3,fill:"both"}),setTimeout(()=>t.style.display="none",1e3)},1e3)};let u=document.getElementById("nav_menu");setTimeout(()=>document.getElementById("got_to_div").style.cssText="display:none;",1100);let v=!1,w=null,x=!1,y=document.getElementById("settings"),z=document.getElementById("go_to"),A=document.getElementById("ok"),B=document.getElementById("cancel"),C=document.getElementById("back"),D=document.getElementById("next"),E=document.getElementById("about"),F=document.getElementById("background"),G=document.getElementById("canvas_cal"),H=document.getElementById("div_back_next"),I=document.getElementById("background"),J=document.getElementById("got_to_div"),K=document.getElementById("get_current_date"),L=document.getElementById("dropdown_country");L.style.display="none";let M=document.getElementById("events_container"),N=document.getElementById("get_current_date");document.getElementById("ico_country_current").setAttribute("draggable",!1);let O=null;for(let a in document.addEventListener("click",function(a){let b=a.target.getAttribute("class"),c=a.target.getAttribute("id"),e=!1,g=document.querySelector(".option-choose-month.is-selected"),i=f.indexOf(g.innerHTML),k=d[i],m=31-k;if(n.innerHTML===j&&o.innerHTML===h.getDate()&&p.innerHTML===l?N.style.display="none":N.style.cssText="background-color: #D5D5D5;width: 100px;height: 100px;border-radius: 99999px;position: relative;display: flex;flex-direction: column;float: right;position: fixed;bottom: 3%;left: 92%;align-self: flex-end;cursor: pointer;z-index: 10;",0===m)for(let a=1;31>=a;a++)2>(a+"").length&&(a="0"+a),document.getElementById("selector_"+a).style.display="block";else{for(let a=1;31>=a;a++)2>(a+"").length&&(a="0"+a),document.getElementById("selector_"+a).style.display="block";for(let a=1;a<=m;a++)try{document.getElementById("selector_"+(32-a)).style.display="none",x=!0}catch(a){return}}if("nav_menu_li"!==b)if("menu"===c?(u.style.display="block",u.style.opacity=0,u.animate([{opacity:0},{opacity:1}],{duration:100,fill:"both"}),setTimeout(()=>u.style.display="block",100)):(u.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>u.style.display="none",100)),"cell_div"===b){if(!1===v){let a=document.getElementById(c.replace(/\D/g,""));cell_span=document.getElementById("span_"+c.replace(/\D/g,"")),cell_span.style.cssText="z-index:1;color:white;text-align:center;margin-top:30px;padding-right:5px;",a.style.cssText="background-color:#C1C1C1;width:100px;height:100px;position:absolute;border-radius:10px;margin-left:130px;z-index:2;margin-top:10px;",v=!0,O=c.replace(/\D/g,"");let b=document.getElementById(w);b.style.cssText="padding: 50px 50px 50px 165px; text-align: center;";let d=document.getElementById("span_"+w).remove(),e=document.createElement("div");e.innerHTML=w,e.setAttribute("id","span_"+w),e.setAttribute("class","cell_div_selected"),e.style.cssText="color:#E73A3C;font-weight:bold;",b.appendChild(e)}else{let a=document.getElementById(O),b=document.getElementById("span_"+O);a.style.cssText="padding: 50px 50px 50px 165px; text-align: center;",b.style.cssText="color:black;";let d=document.getElementById(c.replace(/\D/g,""));cell_span=document.getElementById("span_"+c.replace(/\D/g,"")),cell_span.style.cssText="z-index:1;color:white;text-align:center;margin-top:30px;padding-right:5px;",d.style.cssText="background-color:#C1C1C1;width:100px;height:100px;position:absolute;border-radius:10px;margin-left:130px;z-index:2;margin-top:10px;",v=!0,O=c.replace(/\D/g,"")}}else if("date-picker selected"===b||"cell_div_selected"===b)try{let a=document.getElementById(w);a.style.cssText="padding: 50px 50px 50px 165px; text-align: center;";let b=document.getElementById("span_"+w);b.style.cssText="z-index:1;color:white;text-align:center;margin-top:30px;padding-right:5px;",a.style.cssText="background-color:#E73A3C;width:100px;height:100px;position:absolute;border-radius:10px;margin-left:130px;z-index:2;margin-top:10px;";let c=document.getElementById(O),d=document.getElementById("span_"+O);c.style.cssText="padding: 50px 50px 50px 165px; text-align: center;",d.style.cssText="color:black;",v=!1}catch(a){}else if("dropdown_country"===c||"dropdown_list_ul"===c||"country_dropdown_list"===c||"dropdown_country_title_list"===c||"selected_country"===c||"ico_country_current"===c){if(!1===e){if(null!=document.getElementById("dropdown_list_countries")){if(!1===e&&"selected_country"!==c){let b=a.target;if("dropdown_list_ul"===b.getAttribute("id")||"dropdown_country"===b.getAttribute("id"))return;else{let a=b.querySelector("#dropdown_country_title_list"),c=b.querySelector("#ico_country"),d=document.getElementById("ico_country_current"),f=document.getElementById("dropdown_country_title"),g=f.innerHTML,h=d.getAttribute("src");try{f.innerHTML=a.innerHTML,a.innerHTML=g,d.setAttribute("src",c.getAttribute("src")+""),c.setAttribute("src",h+"");let b=document.getElementById("dropdown_list_countries"),i=document.getElementById("dropdown_list_ul");b.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>b.style.cssText="opacity:0;display:none;",100),i.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>i.style.cssText="opacity:0;display:none;",100),e=!0,document.getElementById("dropdown_country").style.cssText="display:block;opacity:1;background-color:transparent;"}catch(a){return}}}else{let a=document.getElementById("dropdown_list_countries"),b=document.getElementById("dropdown_list_ul");b.style.cssText="display:block;opacity:0;",a.style.cssText="display:block;opacity:0;",a.animate([{opacity:0},{opacity:1}],{duration:100,fill:"both"}),setTimeout(()=>a.cssText="opacity:1;"),b.animate([{opacity:0},{opacity:1}],{duration:100,fill:"both"}),setTimeout(()=>b.cssText="opacity:1;"),document.getElementById("dropdown_country").style.cssText="background-color:white;min-height:50px;height:auto;-webkit-box-shadow: 0px 0px 23px -5px rgba(0,0,0,0.75);-moz-box-shadow: 0px 0px 23px -5px rgba(0,0,0,0.75);box-shadow: 0px 0px 23px -5px rgba(0,0,0,0.75);"}}else if(null===document.getElementById("dropdown_list_countries")){let a=document.createElement("div");a.setAttribute("id","dropdown_list_countries"),a.innerHTML="\t\t\t\t\t\t\t\t\t\t<ul id=\"dropdown_list_ul\">\t\t\t\t\t\t\t\t\t\t\t<li class=\"nav_ul\"><div class=\"country_dropdown_list country_dropdown_list_li\">\t\t\t\t\t\t\t\t\t\t\t\t<img id=\"ico_country\" src=\"https://image.flaticon.com/icons/png/512/330/330437.png\" width=\"80\" height=\"80\" alt=\"Russia\">\t\t\t\t\t\t\t\t\t\t\t\t<p id=\"dropdown_country_title_list\" class=\"ru\">Russia</p>\t\t\t\t\t\t\t\t\t\t\t</div></li>\t\t\t\t\t\t\t\t\t\t\t<li class=\"nav_ul\"><div class=\"country_dropdown_list country_dropdown_list_li\">\t\t\t\t\t\t\t\t\t\t\t\t<img id=\"ico_country\" src=\"https://image.flaticon.com/icons/svg/330/330550.svg\" width=\"80\" height=\"80\" alt=\"Belarus\">\t\t\t\t\t\t\t\t\t\t\t\t<p id=\"dropdown_country_title_list\" class=\"by\">Belarus</p>\t\t\t\t\t\t\t\t\t\t\t</div></li>\t\t\t\t\t\t\t\t\t\t\t<li class=\"nav_ul\"><div class=\"country_dropdown_list country_dropdown_list_li\">\t\t\t\t\t\t\t\t\t\t\t\t<img id=\"ico_country\" src=\"https://image.flaticon.com/icons/png/512/330/330459.png\" width=\"80\" height=\"80\" alt=\"USA\">\t\t\t\t\t\t\t\t\t\t\t\t<p id=\"dropdown_country_title_list\" class=\"us\">USA</p>\t\t\t\t\t\t\t\t\t\t\t</div></li>\t\t\t\t\t\t\t\t\t\t\t<li class=\"nav_ul\"><div class=\"country_dropdown_list country_dropdown_list_li\">\t\t\t\t\t\t\t\t\t\t\t\t<img id=\"ico_country\" src=\"https://image.flaticon.com/icons/png/512/330/330495.png\" width=\"80\" height=\"80\" alt=\"Uzbekistan\">\t\t\t\t\t\t\t\t\t\t\t\t<p id=\"dropdown_country_title_list\" class=\"uz\">Uzbekistan</p>\t\t\t\t\t\t\t\t\t\t\t</div></li>\t\t\t\t\t\t\t\t\t\t</ul>",document.getElementById("dropdown_country").appendChild(a),a.style.cssText="display:block;opacity:0;",a.animate([{opacity:0},{opacity:1}],{duration:100,fill:"both"}),setTimeout(()=>a.cssText="opacity:1;",100),document.getElementById("dropdown_country").style.cssText="background-color:white;min-height:50px;height:auto;z-index:10;-webkit-box-shadow: 0px 0px 23px -5px rgba(0,0,0,0.75);-moz-box-shadow: 0px 0px 23px -5px rgba(0,0,0,0.75);box-shadow: 0px 0px 23px -5px rgba(0,0,0,0.75);",document.getElementById("ico_country").setAttribute("draggable",!1)}e=!0}}else if(!1===e)try{let a=document.getElementById("dropdown_list_countries"),b=document.getElementById("dropdown_list_ul");a.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>a.style.cssText="opacity:0;display:none;",100),b.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>b.style.cssText="opacity:0;display:none;",100),e=!0,document.getElementById("dropdown_country").style.cssText="display:block;opacity:1;background-color:transparent;"}catch(a){}}),u.addEventListener("click",function(){u.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>u.style.display="none",100)}),g){let b=document.createElement("th");b.innerHTML=g[a],b.id=g[a],b.className="day",b.style.cssText="text-decoration: none;display: block;float: left;padding: 145px 100px;text-decoration: none;font-size:30px;font-family: \"Roboto\", sans-serif;width: auto;",m.style.cssText="position:absolute;margin-top:10px;margin-left:-230px;",m.appendChild(b)}(function(a,b){let c="";for(let d=a;d<=b;d++)c+="<option value='"+d+"'>"+d+"</option>";return c})(1970,2050);a(k,l,"None"),el=document.getElementById("calendar"),el.addEventListener("touchstart",function(a){P=a.touches[0].clientX,Q=a.touches[0].clientY},!1),el.addEventListener("touchmove",b,!1);let P=null,Q=null;for(let b in[F,B,A].forEach(a=>a.addEventListener("click",()=>{E.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>E.style.cssText="opacity:0;display:none;",100),G.style.cssText="animation:0.1s linear sharp_background;",setTimeout(()=>G.style.cssText="filter:blur(0rem);"),H.style.cssText="animation:0.1s linear sharp_background;",setTimeout(()=>H.style.cssText="filter:blur(0rem);"),K.style.cssText="animation:0.1s linear sharp_background;",setTimeout(()=>K.style.cssText="filter:blur(0rem);"),M.style.cssText="margin-left:3%;display:block;animation:0.1s linear sharp_background;",setTimeout(()=>M.style.cssText="margin-left:3%;display:block;filter:blur(0rem);"),I.style.display="none",J.animate([{opacity:1},{opacity:0}],{duration:100,fill:"both"}),setTimeout(()=>J.style.cssText="opacity:0;display:none",100)})),y.addEventListener("click",()=>{I.style.display="block",G.style.cssText="display:block;animation:0.1s linear blur_background;",setTimeout(()=>G.style.cssText="filter:blur(1rem);"),H.style.cssText="animation:0.1s linear blur_background;",setTimeout(()=>H.style.cssText="filter:blur(1rem);"),M.style.cssText="margin-left:3%;display:block;animation:0.1s linear blur_background;",setTimeout(()=>M.style.cssText="margin-left:3%;display:block;filter:blur(1rem);"),K.style.cssText="animation:0.1s linear blur_background;",setTimeout(()=>K.style.cssText="filter:blur(1rem);"),E.style.display="block",E.animate([{opacity:0},{opacity:1}],{duration:100,fill:"both"}),setTimeout(()=>E.style.cssText="opacity:1;display:block;")}),z.addEventListener("click",()=>{I.style.display="block",G.style.cssText="display:block;animation:0.1s linear blur_background;",setTimeout(()=>G.style.cssText="filter:blur(1rem);"),H.style.cssText="animation:0.1s linear blur_background;",setTimeout(()=>H.style.cssText="filter:blur(1rem);"),M.style.cssText="margin-left:3%;display:block;animation:0.1s linear blur_background;",setTimeout(()=>M.style.cssText="margin-left:3%;display:block;filter:blur(1rem);"),K.style.cssText="animation:0.1s linear blur_background;",setTimeout(()=>K.style.cssText="filter:blur(1rem);"),J.style.cssText="display:block;opacity:1;",J.animate([{opacity:0},{opacity:1}],{duration:100,fill:"both"}),setTimeout(()=>J.style.cssText="opacity:1;display:block;")}),K.addEventListener("click",()=>{a(h.getMonth(),h.getFullYear())}),A.addEventListener("click",()=>{a(f.indexOf(document.getElementsByClassName("option-choose-month is-selected")[0].innerHTML),document.getElementsByClassName("option-choose-year is-selected")[0].innerHTML,"None")}),C.addEventListener("click",()=>{let b=f.indexOf(document.getElementById("month_name").innerHTML),c=+document.getElementById("year").innerHTML;l=0===b?c-1:c,k=0===b?11:b-1,a(k,l,"back")}),D.addEventListener("click",()=>{let b=f.indexOf(document.getElementById("month_name").innerHTML),c=+document.getElementById("year").innerHTML;l=11===b?c+1:c,k=(b+1)%12,a(k,l,"next")}),f){let a=document.createElement("div");a.innerHTML=f[b],a.setAttribute("class","option-choose-month"),a.setAttribute("id","selector_"+f[b]),q.appendChild(a)}for(let a=1;32>a;a++){2>(a+"").length&&(a="0"+a);let b=document.createElement("div");b.innerHTML=a,b.setAttribute("class","option-choose-monthday"),b.setAttribute("id","selector_"+a),s.appendChild(b)}for(let a,b=1970;2050>=b;b++)a=document.createElement("div"),a.innerHTML=b,a.setAttribute("class","option-choose-year"),a.setAttribute("id","selector_"+b),r.appendChild(a);let R=document.querySelector("#events_list"),S=document.querySelector("#events_container");R.addEventListener("click",()=>{let a=document.getElementById("calendar_body"),b=document.getElementById("nav_days_ul");b.style.cssText="animation:calendar_body_swipe_to_left 1s ease-in-out;",setTimeout(()=>b.style.cssText="margin-top:10px;margin-left:-200%;position:absolute;",1e3),a.style.cssText="animation:center_container_to_left 1s ease-in-out;",setTimeout(()=>a.style.cssText="margin-left:-200%;margin-top: 180px;position:absolute;display:none;",1e3),events_container.style.cssText="display:block;animation: slide_events_container 1s ease-in-out;",setTimeout(()=>events_container.style.cssText="margin-left:3%;display:block;",1e3);let c=document.getElementById("year").innerHTML,d=document.getElementById("dropdown_country_title").innerHTML;L.style.cssText="display:block;",L.animate([{opacity:0},{opacity:1}],{duration:1e3,fill:"both"}),setTimeout(()=>{L.style.cssText="display:block;opacity:1;"}),$.ajax({type:"POST",url:"/countries/",data:JSON.stringify({year:c,country:d},null,"\t"),contentType:"application/json;charset=UTF-8",success:function(a){let b=document.createElement("div");b.setAttribute("id","table_event_container"),b.innerHTML=a.data,M.appendChild(b)},error:a=>{console.log(a)}})})});
